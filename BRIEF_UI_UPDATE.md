# Brief UI 优化 - 简化快速切换

## 修改说明

根据用户需求，优化了聊天面板中的 Brief 组件UI，使其更加简洁和易用。

## 修改内容

### 修改前
Brief 卡片只显示：
- 标题："Brief 偏好"
- "调整"按钮
- 摘要标签（badges）

用户需要点击"调整"按钮打开弹窗才能切换模式。

### 修改后
Brief 卡片现在显示：
- 标题："Brief"（简化）
- **专业/自由模式快速切换按钮**（新增）
- "调整"按钮（保留）
- 摘要标签（badges）（保留）

## UI 效果

```
┌─────────────────────────────────────┐
│ ⭐ Brief              [🔧 调整]     │
│                                     │
│ ┌──────────┐  ┌──────────┐         │
│ │ 专业模式 │  │ 自由模式 │         │
│ └──────────┘  └──────────┘         │
│                                     │
│ [空白起稿] [中性简约] [简洁清晰]   │
└─────────────────────────────────────┘
```

## 交互逻辑

### 快速切换
- **专业模式**：点击后立即切换，显示完整的 Brief 配置（任务模式、视觉风格、设计重点、图表类型）
- **自由模式**：点击后立即切换，隐藏所有 Brief 配置，只保留基础守则
- 当前激活的模式会高亮显示（黑色背景 + 白色文字）

### 详细调整
- 点击"调整"按钮打开弹窗
- 在弹窗中可以：
  - 切换专业/自由模式
  - 详细配置任务模式（空白起稿/结构整理/讲解拆解）
  - 选择视觉风格（中性简约/活力多彩/企业专业/手绘草图/技术蓝图）
  - 设置设计重点（简洁清晰/流向顺畅/层次分明）
  - 选择图表类型（智能识别/活动流程/时序交互等）

## 样式细节

### 模式切换按钮
- **未选中状态**：
  - 白色背景
  - 灰色边框
  - 深灰色文字
  - 悬停时边框变深、背景微调

- **选中状态**：
  - 黑色背景
  - 黑色边框
  - 白色文字
  - 带阴影

- **布局**：Grid 2列均分，间距8px

### 响应式设计
- 组件已支持响应式布局
- 在窄屏幕下保持可用性

## 代码位置

文件：`/Users/huangtao/WebstormProjects/flowpilot/components/flowpilot-brief.tsx`

修改的组件：`FlowPilotBriefLauncher`

修改的部分：Brief 偏好配置卡片（第745-790行）

## 优势

1. **更直观**：一眼就能看到当前模式
2. **更快捷**：一键切换模式，无需打开弹窗
3. **更简洁**：保留"调整"按钮用于详细配置
4. **更清晰**：专业/自由模式的差异更加明显

## 使用场景

### 场景1：快速切换到自由模式
用户想要让 AI 直接按照输入作图，不添加任何 Brief 偏好：
1. 点击"自由模式"按钮
2. 立即切换，无需额外操作

### 场景2：详细配置专业模式
用户想要精确控制图表风格和类型：
1. 点击"专业模式"按钮
2. 点击"调整"按钮
3. 在弹窗中配置详细选项

### 场景3：查看当前配置
用户想知道当前使用的是哪种模式：
- 直接看按钮高亮状态
- 查看下方的摘要标签

## 测试建议

1. **功能测试**：
   - ✅ 点击"专业模式"按钮，确认切换成功
   - ✅ 点击"自由模式"按钮，确认切换成功
   - ✅ 点击"调整"按钮，确认弹窗打开
   - ✅ 在弹窗中切换模式，确认同步更新

2. **视觉测试**：
   - ✅ 选中状态的样式正确
   - ✅ 未选中状态的样式正确
   - ✅ 悬停效果流畅
   - ✅ 禁用状态显示正确

3. **响应式测试**：
   - ✅ 在不同宽度下布局正常
   - ✅ 按钮文字不会换行或溢出

## 注意事项

1. **状态同步**：模式切换会立即触发 `onChange` 回调，确保状态同步
2. **禁用状态**：当 `disabled` 为 true 时，按钮和"调整"按钮都会禁用
3. **摘要更新**：切换模式后，下方的摘要标签会自动更新以反映当前配置
